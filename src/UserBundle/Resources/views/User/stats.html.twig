{% extends "UserBundle::layout.html.twig" %}

{% block title %}{{ parent() }} - Statistiques{% endblock %}

{% block content %}
    <div class="user-interface-page-header">
        <div class="page-name">
            Statistiques
        </div>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12 stats-show">
                <div class="col-md-3">
                    <div class="stats-user">
                        <div class="stats-user-title">Utilisateurs</div>
                        <div class="stats-user-subtitle">Nombre total d'utilisateurs</div>
                        <div class="stats-user-content">{{ users }}</div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stats-observation">
                        <div class="stats-observation-title">Observations</div>
                        <div class="stats-observation-subtitle">Nombre total d'observations</div>
                        <div class="stats-observation-content">344</div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stats-article">
                        <div class="stats-article-title">Articles</div>
                        <div class="stats-article-subtitle">Nombre total d'articles</div>
                        <div class="stats-article-content">12</div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stats-comment">
                        <div class="stats-comment-title">Commentaires</div>
                        <div class="stats-comment-subtitle">Nombre total de commentaires</div>
                        <div class="stats-comment-content">72</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 stats-show">
                <div class="col-md-6">
                    <div id="chart_div" style="width: 100%; height: 500px;"></div>
                </div>
                <div class="col-md-6">

                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawVisualization);

        function drawVisualization() {

            var data = google.visualization.arrayToDataTable([
                ['Month', 'Utilisateurs', 'Observations', 'Articles', 'Commentaires'],
                ['2004/05',  {{ users }},      4,         5,             6],
                ['2005/06',  2,      4,        5,             6],
                ['2006/07',  2,      4,        5,             6],
                ['2007/08',  2,      4,        5,             6],
                ['2008/09',  2,      4,         5,             6]
            ]);

            var options = {
                vAxis: {title: 'Nombre'},
                hAxis: {title: 'Mois'},
                seriesType: 'bars',
                series: {5: {type: 'line'}}
            };

            var chart = new google.visualization.ComboChart(document.getElementById('chart_div'));
            chart.draw(data, options);
        }
    </script>
{% endblock %}