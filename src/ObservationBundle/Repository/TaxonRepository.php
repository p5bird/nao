<?php

namespace ObservationBundle\Repository;

/**
 * TaxonRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class TaxonRepository extends \Doctrine\ORM\EntityRepository
{
	public function findByNameVern($nameVern)
	{
		$queryBuilder = $this->createQueryBuilder('tax');
		$queryBuilder
			->where($queryBuilder->expr()->like('tax.nameVern', ':nameVern'))
			->setParameter('nameVern', $nameVern . '%')
			->andWhere('tax.id = tax.ref')
			->orderBy('tax.nameVern', 'ASC');
		return $queryBuilder->getQuery()->getResult();
	}

}
