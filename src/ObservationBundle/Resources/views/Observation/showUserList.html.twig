{% extends "UserBundle::layout.html.twig" %}

{% block title %}{{ parent() }} - Mes observations{% endblock %}

{% block content %}

	{% for alert in app.session.flashbag.get('alert') %}
		<p class="alert alert-{{ alert.type }}">{{ alert.content }}</p>
	{% endfor %}

	{% if observations is empty %}
		<div class="container">
			<p>Vous n'avez pas d'observation.</p>
		</div>
	{% else %}
		<div class="container">
			<div class="row">
				<div class="col-xs-12">
					<h1>Mes observations</h1>
				</div>
				<div class="col-xs-12">
					<div class="table-responsive">
						<table class="table table-sm table-hover">
							<thead>
		    					<tr>
		    						<th scope="col">Statut / Observation</th>
		    						<th scope="col">Edition</th>
		    					</tr>
							</thead>
		    				<tbody>
								{% for observation in observations %}
			    					<tr>
			    						<td>
			    							<a href="{{ path('nao_obs_show', {'id': observation.id}) }}" class="btn {{ observation.validated ? 'text-success' : 'text-warning' }}">
				    							{% if observation.validated %}
				    								<i class="fas fa-eye fa-lg" title="validée"></i> 
												{% else %}
													<i class="fas fa-eye-slash fa-lg" title="non validée"></i> 
				    							{% endif %}
			    								{{ observation.noName ? 'non identifié' : observation.birdName }} ( {{ observation.day|date('d/m/Y') }} )
			    							</a>
			    						</td>
			    						<td class="btn-group">
			    							<a href="{{ path('nao_obs_edit', {'id': observation.id}) }}" class="btn btn-default"><i class="fas fa-edit fa-lg" title="modifier"></i></a>
			    							<a href="#" class="btn btn-danger"><i class="fas fa-trash-alt fa-lg" title="supprimer"></i></a>
			    						</td>
			    					</tr>
								{% endfor %}
		    				</tbody>
		    			</table>
	    			</div>
	    		</div>
	    	</div>
	    </div>
	{% endif %}
{% endblock %}